# iTechDMV Platform Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

NODE_ENV=development
PORT=3000
API_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database
DATABASE_URL=postgresql://itechdmv:itechdmv_password@localhost:5432/itechdmv_db
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=itechdmv_db
DATABASE_USER=itechdmv
DATABASE_PASSWORD=itechdmv_password
DATABASE_SSL=false

# Redis Cache
REDIS_URL=redis://:itechdmv_redis_password@localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=itechdmv_redis_password
REDIS_DB=0

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# JWT Configuration
JWT_SECRET=your_super_secure_jwt_secret_key_here
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_super_secure_jwt_refresh_secret_key_here
JWT_REFRESH_EXPIRES_IN=30d

# Encryption
ENCRYPTION_KEY=your_32_character_encryption_key_here
ENCRYPTION_ALGORITHM=aes-256-cbc

# Session Configuration
SESSION_SECRET=your_session_secret_here
SESSION_TIMEOUT=3600000

# =============================================================================
# AUTHENTICATION PROVIDERS
# =============================================================================

# Microsoft Azure AD
AZURE_CLIENT_ID=your_azure_client_id
AZURE_CLIENT_SECRET=your_azure_client_secret
AZURE_TENANT_ID=your_azure_tenant_id
AZURE_REDIRECT_URI=http://localhost:3000/auth/azure/callback

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# =============================================================================
# CLOUD SERVICES
# =============================================================================

# AWS Configuration
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name
AWS_S3_PREFIX=uploads/

# Azure Configuration
AZURE_STORAGE_ACCOUNT=your_storage_account
AZURE_STORAGE_KEY=your_storage_key
AZURE_STORAGE_CONTAINER=uploads

# SendGrid Email
SENDGRID_API_KEY=your_sendgrid_api_key
FROM_EMAIL=noreply@itechdmv.com
FROM_NAME=iTechDMV Platform

# =============================================================================
# PAYMENT PROCESSING
# =============================================================================

# Stripe Configuration
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Error Reporting
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
FEATURE_API_DOCUMENTATION=true
FEATURE_USER_REGISTRATION=true
FEATURE_PAYMENT_PROCESSING=true
FEATURE_ADVANCED_REPORTING=true
FEATURE_MULTI_TENANCY=true
FEATURE_AUDIT_LOGGING=true
FEATURE_ENCRYPTION=true
FEATURE_TWO_FACTOR_AUTH=true
FEATURE_SSO=true
FEATURE_WEBHOOKS=true
FEATURE_CUSTOM_INTEGRATIONS=true

# =============================================================================
# RATE LIMITING
# =============================================================================

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Authentication Rate Limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# Upload Settings
MAX_FILE_SIZE=10485760
UPLOAD_DIR=uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================

# Email Notifications
EMAIL_VERIFICATION_REQUIRED=true
EMAIL_VERIFICATION_EXPIRES=24h

# SMS Notifications (Twilio)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# BACKUP AND MAINTENANCE
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=backups

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is undergoing maintenance. Please check back soon.

# =============================================================================
# INTEGRATION SETTINGS
# =============================================================================

# Microsoft 365
M365_TENANT_ID=your_m365_tenant_id
M365_CLIENT_ID=your_m365_client_id
M365_CLIENT_SECRET=your_m365_client_secret

# Slack Integration
SLACK_WEBHOOK_URL=your_slack_webhook_url
SLACK_CHANNEL=#alerts

# Webhook Configuration
WEBHOOK_SECRET=your_webhook_secret_here
WEBHOOK_TIMEOUT=5000

# =============================================================================
# CUSTOMIZATION SETTINGS
# =============================================================================

# Branding
COMPANY_NAME=iTechDMV
COMPANY_LOGO_URL=/assets/logo.png
COMPANY_WEBSITE=https://itechdmv.com
SUPPORT_EMAIL=support@itechdmv.com
SUPPORT_PHONE=(540) 555-0123

# Default Settings
DEFAULT_TIMEZONE=America/New_York
DEFAULT_LANGUAGE=en
DEFAULT_CURRENCY=USD

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================

# Development Settings
DEV_AUTO_LOGIN=false
DEV_MOCK_AUTH=false
DEV_DISABLE_RATE_LIMIT=false
DEV_SHOW_ERROR_DETAILS=true

# =============================================================================
# SECURITY HEADERS
# =============================================================================

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# HSTS
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# Other Security Headers
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=strict-origin-when-cross-origin

# =============================================================================
# CACHE SETTINGS
# =============================================================================

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=100
CACHE_ENABLED=true

# Session Cache
SESSION_CACHE_ENABLED=true
SESSION_CACHE_TTL=1800

# =============================================================================
# API RATE LIMITING
# =============================================================================

# General API Limits
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX=1000

# Specific Endpoint Limits
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX=10

PASSWORD_RESET_RATE_LIMIT_WINDOW_MS=3600000
PASSWORD_RESET_RATE_LIMIT_MAX=3

# =============================================================================
# GOVERNMENT COMPLIANCE
# =============================================================================

# FISMA Compliance
FISMA_COMPLIANCE_LEVEL=moderate
FISMA_SYSTEM_CATEGORY=confidentiality

# FedRAMP
FEDRAMP_COMPLIANCE=true
FEDRAMP_IMPACT_LEVEL=moderate

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555
AUDIT_LOG_ENCRYPTION=true

# Data Classification
DEFAULT_DATA_CLASSIFICATION=internal
PII_ENCRYPTION_REQUIRED=true
